<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Home</title>
    <script>ALLMEALSHARESHERE</script>
	<script>CREATEDMEALSHARESHERE</script>
	<script>ATTENDINGMEALSHARESHERE</script>
	<script>HOSTINGMEALSHARESHERE</script>
	<script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
	<script src="https://ajax.aspnetcdn.com/ajax/knockout/knockout-3.3.0.js"></script>
	<script src="home.js"></script>
</head>
<body>
<div>
<h1>Welcome, you're logged in.</h1>

<h2>Create a new mealshare</h2>
<form id="new_mealshare_form" data-bind="submit: create">
    <label for="name">mealshare name:</label>
    <input type="text" name="name"><br>
    <label for="max_guests">maximum number of guests:</label>
    <input type="number" name="max_guests" min="1"><br>
    <label for="hosts">hosts:</label>
    <input type="text" name="hosts"><br>
    <label for="guests">guests:</label>
    <input type="text" name="guests"><br>
    <label for="description">description:</label>
    <textarea rows="4" cols="50" name="description" form="new_mealshare_form"></textarea><br>
    <button type="submit">GO</button>
</form>

<h2>Here are the mealshares you've created</h2>
<div id="created_mealshares">
	<ul data-bind="foreach: createdMealshares">
		<li>
			<label data-bind="text: name"></label>
		</li>
	</ul>
</div>

<h2>Here are the mealshares you are co-hosting</h2>
<div id="hosting_mealshares">
	<ul data-bind="foreach: hostingMealshares">
		<li>
			<label data-bind="text: name"></label>
		</li>
	</ul>
</div>

<h2>Here are all mealshares you are attending</h2>
<div id="attending_mealshares">
	<ul data-bind="foreach: attendingMealshares">
		<li>
			<label data-bind="text: name"></label>
			<button data-bind="click: $parent.unattend">Unattend</button>
		</li>
	</ul>
</div>

<h2>Here are all mealshares</h2>
<div id="all_mealshares">
	<ul data-bind="foreach: allMealshares">
		<li>
			<label data-bind="text: name"></label>
			<button data-bind="click: $parent.attend">Attend</button>
		</li>
	</ul>
</div>
<a href="/signout"> Sign Out </a>
</div>
</body>
</html>
